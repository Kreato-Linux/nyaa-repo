#!/bin/sh
NAME="gobject-introspection"
RELEASE="1"
VERSION="1.62.0"
SOURCES="https://ftp.gnome.org/pub/gnome/sources/gobject-introspection/1.62/gobject-introspection-1.62.0.tar.xz;https://gitlab.gnome.org/GNOME/gobject-introspection/-/commit/effb1e09dee263cdac4ec593e8caf316e6f01fe2.patch"
SHA256SUM="b1ee7ed257fdbc008702bdff0ff3e78a660e7e602efa8f211dc89b9d1e7d90a2  gobject-introspection-1.62.0.tar.xz;668c02563ee7bf31ed1fa95a46c43b90120bbc44424c931f3a23fd4cfbe0a772  effb1e09dee263cdac4ec593e8caf316e6f01fe2.patch"
DESCRIPTION="gobject-introspection"

prepare() {
	tar -xvf "gobject-introspection-$VERSION.tar.xz"
	cd "gobject-introspection-$VERSION"
	patch -p1 < ../effb1e09dee263cdac4ec593e8caf316e6f01fe2.patch
}

build() {
	cd "gobject-introspection-$VERSION"
	meson setup --prefix=/usr build
	ninja -C build
}

install() {
    cd "gobject-introspection-$VERSION"
    DESTDIR="$ROOT" ninja -C build install
}
