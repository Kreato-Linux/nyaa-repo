#!/bin/sh
NAME="cmake"
VERSION="3.27.8"
RELEASE="1"
SOURCES="https://cmake.org/files/v3.27/cmake-$VERSION.tar.gz"
DEPENDS="expat libuv rhash libarchive libuv libxml2 curl jsoncpp"
SHA256SUM="fece24563f697870fbb982ea8bf17482c9d5f855d8c9bf0b82463d76c9e8d0cc"
DESCRIPTION="CMake package contains a modern toolset used for generating Makefiles."

build() {
    sed -i '/"lib64"/s/64//' Modules/GNUInstallDirs.cmake
    ./bootstrap --prefix=/usr        \
                --mandir=/share/man  \
                --docdir=/share/doc/cmake-$VERSION
    make -j$(nproc)
}

package() {
    make DESTDIR=$ROOT install
}

