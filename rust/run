#!/bin/sh
NAME="rust"
RELEASE="1"
VERSION="1.72.0"
SOURCES="https://static.rust-lang.org/dist/rustc-$VERSION-src.tar.gz"
DEPENDS="llvm"
BUILD_DEPENDS="python"
SHA256SUM="ea9d61bbb51d76b6ea681156f69f0e0596b59722f04414b01c6e100b4b5be3a1  rustc-1.72.0-src.tar.gz"
DESCRIPTION="Memory-safe programming language that doesn't use garbage collection"

build() {
  ./configure --set install.prefix="/usr" --set llvm.link-shared=llvm.thin-lto --llvm-config=/usr/bin/llvm-config 
  ./x.py build
}

package() {
  DESTDIR="$ROOT" ./x.py install
}
