#!/bin/sh
NAME="curl"
RELEASE="1"
VERSION="8.10.1"
BUILD_DEPENDS="gmake"
SOURCES="https://curl.haxx.se/download/curl-$VERSION.tar.xz"
DEPENDS="nghttp2 zlib nghttp2"
SHA256SUM="73a4b0e99596a09fa5924a4fb7e4b995a85fda0d18a2c02ab9cf134bebce04ee"
DESCRIPTION="command line tool and library for transferring data with URLs"

build() {
    # Taken from Kiss Linux repo, License here https://github.com/kisslinux/repo/blob/master/LICENSE
    kpkgConfigure \
        --prefix=/usr \
        --disable-manual \
        --disable-ldap \
        --disable-ares \
        --without-librtmp \
        --without-libpsl \
        --without-libidn2 \
        --without-brotli \
        --without-zstd   \
        --with-openssl   \
        --with-nghttp2   \
        --with-ca-path=/etc/ssl/certs

    make
}

package() {
    make DESTDIR=$ROOT install
}
